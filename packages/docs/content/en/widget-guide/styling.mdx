# Style Customization

How to customize widget styles using CSS variables and themes.

> **Core**: Control the entire widget appearance with 31 CSS variables.

<Callout type="info">
**Shadow DOM Isolation**: The widget renders within Shadow DOM, so host page CSS doesn't affect the widget interior.
</Callout>

## 1. CSS Variables Reference (31 Total)

### 1.1 Brand Colors (6)

| Variable | Default | Description |
|----------|---------|-------------|
| `--hw-color-primary` | `#5538b6` | Primary color (buttons, links) |
| `--hw-color-primary-hover` | `#231815` | Hover state primary color |
| `--hw-color-accent` | `#f0831e` | Accent color (badges, alerts) |
| `--hw-color-secondary` | `#4b3f96` | Secondary color |
| `--hw-color-surface` | `#ffffff` | Surface color (cards, panels) |
| `--hw-color-background` | `#f5f6f8` | Background color |

### 1.2 Text Colors (3)

| Variable | Default | Description |
|----------|---------|-------------|
| `--hw-color-text-primary` | `#181818` | Primary text |
| `--hw-color-text-secondary` | `#828282` | Secondary text |
| `--hw-color-text-muted` | `#999999` | Muted text |

### 1.3 UI Colors (5)

| Variable | Default | Description |
|----------|---------|-------------|
| `--hw-color-border` | `#dddddd` | Border color |
| `--hw-color-disabled` | `#f5f6f8` | Disabled state |
| `--hw-color-selected` | `#2869f7` | Selected state |
| `--hw-color-selected-bg` | `rgba(40, 105, 247, 0.08)` | Selected background |

### 1.4 Spacing (5)

| Variable | Default | Description |
|----------|---------|-------------|
| `--hw-space-xs` | `4px` | Extra small spacing |
| `--hw-space-sm` | `8px` | Small spacing |
| `--hw-space-md` | `16px` | Medium spacing |
| `--hw-space-lg` | `24px` | Large spacing |
| `--hw-space-xl` | `32px` | Extra large spacing |

### 1.5 Typography (6)

| Variable | Default | Description |
|----------|---------|-------------|
| `--hw-font-family` | `'Noto Sans', -apple-system, ...` | Font family |
| `--hw-font-size-xs` | `12px` | Extra small text |
| `--hw-font-size-sm` | `13px` | Small text |
| `--hw-font-size-md` | `14px` | Medium text |
| `--hw-font-size-lg` | `16px` | Large text |
| `--hw-font-size-xl` | `24px` | Extra large text |

### 1.6 Border Radius (6)

| Variable | Default | Description |
|----------|---------|-------------|
| `--hw-radius-xs` | `3px` | Extra small radius |
| `--hw-radius-sm` | `4px` | Small radius |
| `--hw-radius-md` | `5px` | Medium radius |
| `--hw-radius-lg` | `12px` | Large radius |
| `--hw-radius-xl` | `20px` | Extra large radius |
| `--hw-radius-full` | `9999px` | Fully rounded (circular) |

## 2. Shadow DOM Theming Approaches

### 2.1 CSS Variables Override (Recommended)

Set CSS variables on host page, they inherit into Shadow DOM.

```css
/* Host page CSS */
huni-widget {
  --hw-color-primary: #ff5722;
  --hw-color-accent: #ffc107;
  --hw-font-family: 'Pretendard', sans-serif;
}
```

### 2.2 ::part() Selector (Exposed Parts)

Some widget elements are exposed via `part` attribute.

```css
/* Style specific widget parts */
huni-widget::part(button) {
  font-weight: bold;
}

huni-widget::part(step-indicator) {
  padding: 8px;
}
```

### 2.3 :host Selector

Control the widget itself.

```css
huni-widget {
  display: block;
  max-width: 465px;
  margin: 0 auto;
  border-radius: 8px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}
```

### 2.4 Constructable Stylesheets Override

Advanced method for direct stylesheet injection:

```javascript
const widget = document.querySelector('huni-widget');
const shadow = widget.shadowRoot;

const customStyles = new CSSStyleSheet();
customStyles.replace(`
  :host {
    --hw-color-primary: #ff5722;
  }
`);

shadow.adoptedStyleSheets = [
  ...shadow.adoptedStyleSheets,
  customStyles
];
```

## 3. Tailwind Integration

The widget uses **@layer** strategy for Tailwind CSS isolation.

### 3.1 CSS @layer Structure

```css
/* widget-core/src/index.css */
@layer hw-widget {
  /* Widget-specific Tailwind classes */
  @tailwind base;
  @tailwind components;
  @tailwind utilities;
}

/* Host page */
@layer host {
  /* Host Tailwind (no widget impact) */
}
```

### 3.2 Coexistence with Host Page

| Situation | Widget Impact | Host Impact |
|-----------|---------------|-------------|
| Host Tailwind → Widget | ❌ Blocked | - |
| Widget Tailwind → Host | - | ❌ Blocked |

<Callout type="info">
**Tailwind Prefix**: The widget doesn't use `hw-` prefix. Instead, @layer isolation prevents conflicts (removed: Shopby Aurora Skin doesn't use Tailwind, so prefix not needed).
</Callout>

## 4. Design Tokens Application

### 4.1 Token Architecture

```typescript
// tokens/variables.css
:root {
  /* Figma design tokens */
  --hw-color-primary: #5538b6;  /* gEJhQRtmKI66BPhOpqoW3j */
  --hw-color-accent: #f0831e;
  /* ... */
}

// tailwind.config.js
export default {
  theme: {
    extend: {
      colors: {
        primary: 'var(--hw-color-primary)',
        accent: 'var(--hw-color-accent)',
      }
    }
  }
}
```

### 4.2 Theme Mapping

| Design Token | CSS Variable | Tailwind Class |
|--------------|--------------|----------------|
| Primary 500 | `--hw-color-primary` | `bg-primary-500` |
| Accent 500 | `--hw-color-accent` | `text-accent-500` |
| Spacing md | `--hw-space-md` | `p-space-md` |

## 5. Custom Theme Examples

### 5.1 Light Theme (Default)

```css
huni-widget[theme="light"] {
  --hw-color-primary: #5538b6;
  --hw-color-surface: #ffffff;
  --hw-color-background: #f5f6f8;
  --hw-color-text-primary: #181818;
  --hw-color-text-secondary: #828282;
}
```

### 5.2 Dark Theme

```css
huni-widget[theme="dark"] {
  --hw-color-surface: #1a1a1a;
  --hw-color-background: #0f0f0f;
  --hw-color-text-primary: #ffffff;
  --hw-color-text-secondary: #a0a0a0;
  --hw-color-border: #333333;
}
```

### 5.3 Custom Brand Theme

```css
huni-widget {
  /* Brand colors */
  --hw-color-primary: #e63946;
  --hw-color-accent: #457b9d;

  /* Typography */
  --hw-font-family: 'Pretendard', -apple-system, sans-serif;

  /* Spacing (compact) */
  --hw-space-md: 12px;
  --hw-space-lg: 20px;

  /* Border radius (rounded) */
  --hw-radius-md: 8px;
  --hw-radius-lg: 16px;
}
```

## 6. Method Selection Guide

| Situation | Recommended Method | Complexity |
|-----------|-------------------|------------|
| Color changes only | CSS Variables Override | Low |
| Style specific elements | `::part()` Selector | Medium |
| Complete theme swap | Constructable Stylesheets | High |

## Related Documentation

- [Shadow DOM CSS Isolation](./shadow-dom) - Isolation mechanism details
- [Events & Communication](./events) - Theme change events
- [Widget Embedding](./embedding) - Initialization options
