# 스타일 커스터마이징

위젯의 스타일을 CSS 변수와 테마로 커스터마이징하는 방법을 설명합니다.

> **핵심**: 31개 CSS 변수로 위젯 전체的外观를 제어할 수 있습니다.

<Callout type="info">
**Shadow DOM 격리**: 위젯은 Shadow DOM 내에서 렌더링되므로, 호스트 페이지의 CSS가 위젯 내부에 영향을 주지 않습니다.
</Callout>

## 1. CSS Variables 레퍼런스 (31개)

### 1.1 브랜드 색상 (6개)

| 변수 | 기본값 | 설명 |
|------|--------|------|
| `--hw-color-primary` | `#5538b6` | 주요 색상 (버튼, 링크) |
| `--hw-color-primary-hover` | `#231815` | 호버 상태 주요 색상 |
| `--hw-color-accent` | `#f0831e` | 강조 색상 (배지, 알림) |
| `--hw-color-secondary` | `#4b3f96` | 보조 색상 |
| `--hw-color-surface` | `#ffffff` | 표면 색상 (카드, 패널) |
| `--hw-color-background` | `#f5f6f8` | 배경 색상 |

### 1.2 텍스트 색상 (3개)

| 변수 | 기본값 | 설명 |
|------|--------|------|
| `--hw-color-text-primary` | `#181818` | 주요 텍스트 |
| `--hw-color-text-secondary` | `#828282` | 보조 텍스트 |
| `--hw-color-text-muted` | `#999999` | 흐린 텍스트 |

### 1.3 UI 색상 (5개)

| 변수 | 기본값 | 설명 |
|------|--------|------|
| `--hw-color-border` | `#dddddd` | 테두리 색상 |
| `--hw-color-disabled` | `#f5f6f8` | 비활성 상태 |
| `--hw-color-selected` | `#2869f7` | 선택 상태 |
| `--hw-color-selected-bg` | `rgba(40, 105, 247, 0.08)` | 선택 배경 |

### 1.4 간격 (5개)

| 변수 | 기본값 | 설명 |
|------|--------|------|
| `--hw-space-xs` | `4px` | 아주 작은 간격 |
| `--hw-space-sm` | `8px` | 작은 간격 |
| `--hw-space-md` | `16px` | 중간 간격 |
| `--hw-space-lg` | `24px` | 큰 간격 |
| `--hw-space-xl` | `32px` | 아주 큰 간격 |

### 1.5 타이포그래피 (6개)

| 변수 | 기본값 | 설명 |
|------|--------|------|
| `--hw-font-family` | `'Noto Sans', -apple-system, ...` | 폰트 패밀리 |
| `--hw-font-size-xs` | `12px` | 아주 작은 텍스트 |
| `--hw-font-size-sm` | `13px` | 작은 텍스트 |
| `--hw-font-size-md` | `14px` | 중간 텍스트 |
| `--hw-font-size-lg` | `16px` | 큰 텍스트 |
| `--hw-font-size-xl` | `24px` | 아주 큰 텍스트 |

### 1.6 테두리 Radius (6개)

| 변수 | 기본값 | 설명 |
|------|--------|------|
| `--hw-radius-xs` | `3px` | 아주 작은 radius |
| `--hw-radius-sm` | `4px` | 작은 radius |
| `--hw-radius-md` | `5px` | 중간 radius |
| `--hw-radius-lg` | `12px` | 큰 radius |
| `--hw-radius-xl` | `20px` | 아주 큰 radius |
| `--hw-radius-full` | `9999px` | 완전 둥근 (원형) |

## 2. Shadow DOM 테마 방법

### 2.1 CSS Variables Override (권장)

호스트 페이지에서 CSS 변수를 설정하면 Shadow DOM으로 상속됩니다.

```css
/* 호스트 페이지 CSS */
huni-widget {
  --hw-color-primary: #ff5722;
  --hw-color-accent: #ffc107;
  --hw-font-family: 'Pretendard', sans-serif;
}
```

### 2.2 ::part() Selector (Exposed Parts)

일부 위젯 요소는 `part` 속성으로 노출됩니다.

```css
/* 위젯 내부 특정 부분 스타일링 */
huni-widget::part(button) {
  font-weight: bold;
}

huni-widget::part(step-indicator) {
  padding: 8px;
}
```

### 2.3 :host Selector

위젯 자체의 스타일을 제어합니다.

```css
huni-widget {
  display: block;
  max-width: 465px;
  margin: 0 auto;
  border-radius: 8px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}
```

### 2.4 Constructable Stylesheets Override

고급 사용자를 위한 직접 스타일시트 주입:

```javascript
const widget = document.querySelector('huni-widget');
const shadow = widget.shadowRoot;

const customStyles = new CSSStyleSheet();
customStyles.replace(`
  :host {
    --hw-color-primary: #ff5722;
  }
`);

shadow.adoptedStyleSheets = [
  ...shadow.adoptedStyleSheets,
  customStyles
];
```

## 3. Tailwind 통합

위젯은 **@layer** 전략으로 Tailwind CSS를 격리합니다.

### 3.1 CSS @layer 구조

```css
/* widget-core/src/index.css */
@layer hw-widget {
  /* 위젯 전용 Tailwind 클래스 */
  @tailwind base;
  @tailwind components;
  @tailwind utilities;
}

/* 호스트 페이지 */
@layer host {
  /* 호스트 Tailwind (위젯에 영향 없음) */
}
```

### 3.2 호스트 페이지와의 공존

| 상황 | 위젯 영향 | 호스트 영향 |
|------|-----------|-----------|
| 호스트 Tailwind → 위젯 | ❌ 차단됨 | - |
| 위젯 Tailwind → 호스트 | - | ❌ 차단됨 |

<Callout type="info">
**Tailwind 접두사**: 위젯은 `hw-` 접두사를 사용하지 않습니다. 대신 @layer 격리로 충돌을 방지합니다. (삭제: shopby Aurora Skin이 Tailwind를 사용하지 않으므로 접두사 불필요)
</Callout>

## 4. Design Tokens 적용

### 4.1 Token Architecture

```typescript
// tokens/variables.css
:root {
  /* Figma design tokens */
  --hw-color-primary: #5538b6;  /* gEJhQRtmKI66BPhOpqoW3j */
  --hw-color-accent: #f0831e;
  /* ... */
}

// tailwind.config.js
export default {
  theme: {
    extend: {
      colors: {
        primary: 'var(--hw-color-primary)',
        accent: 'var(--hw-color-accent)',
      }
    }
  }
}
```

### 4.2 Theme Mapping

| Design Token | CSS Variable | Tailwind Class |
|--------------|--------------|----------------|
| Primary 500 | `--hw-color-primary` | `bg-primary-500` |
| Accent 500 | `--hw-color-accent` | `text-accent-500` |
| Spacing md | `--hw-space-md` | `p-space-md` |

## 5. Custom Theme Examples

### 5.1 Light Theme (Default)

```css
huni-widget[theme="light"] {
  --hw-color-primary: #5538b6;
  --hw-color-surface: #ffffff;
  --hw-color-background: #f5f6f8;
  --hw-color-text-primary: #181818;
  --hw-color-text-secondary: #828282;
}
```

### 5.2 Dark Theme

```css
huni-widget[theme="dark"] {
  --hw-color-surface: #1a1a1a;
  --hw-color-background: #0f0f0f;
  --hw-color-text-primary: #ffffff;
  --hw-color-text-secondary: #a0a0a0;
  --hw-color-border: #333333;
}
```

### 5.3 Custom Brand Theme

```css
huni-widget {
  /* Brand colors */
  --hw-color-primary: #e63946;
  --hw-color-accent: #457b9d;

  /* Typography */
  --hw-font-family: 'Pretendard', -apple-system, sans-serif;

  /* Spacing (compact) */
  --hw-space-md: 12px;
  --hw-space-lg: 20px;

  /* Border radius (rounded) */
  --hw-radius-md: 8px;
  --hw-radius-lg: 16px;
}
```

## 6. 방법별 사용 가이드

| 상황 | 추천 방법 | 복잡도 |
|------|-----------|--------|
| 색상만 변경 | CSS Variables Override | 낮음 |
| 특정 요소 스타일링 | `::part()` Selector | 중간 |
| 완전한 테마 교체 | Constructable Stylesheets | 높음 |

## 관련 문서

- [Shadow DOM CSS 격리](./shadow-dom) - 격리 메커니즘 상세
- [이벤트 & 통신](./events) - 테마 변경 이벤트
- [위젯 임베드 가이드](./embedding) - 초기화 옵션
