# 상품 관리

상품 CRUD 작업과 빌더 캔버스 사용 방법을 설명합니다.

> **핵심**: 12개 카테고리, 229개 상품을 관리하고 컴포넌트 기반 상품 구성을 할 수 있습니다.

<Callout type="info">
**빌더**: 컴포넌트 기반 드래그앤드롭 인터페이스로 옵션을 시각적으로 구성할 수 있습니다.
</Callout>

## 1. 상품 목록 보기

### 1.1 카테고리 트리

Navigator에서 12개 카테고리 중 하나를 선택합니다:

| 카테고리 | MES 코드 접두사 | 상품 수 |
|----------|-----------------|--------|
| 엽서 (Postcard) | 001 | 15 |
| 스티커 (Sticker) | 002 | 12 |
| 포스터 (Poster) | 003 | 18 |
| 전단지 (Flyer) | 004 | 22 |
| 명함 (Business Card) | 005 | 25 |
| 리플릿 (Leaflet) | 006 | 20 |
| 책자 (Booklet) | 007 | 30 |
| NCR (Forms) | 008 | 15 |
| 현수막 (Banner) | 009 | 18 |
| 상품권 (Gift Certificate) | 010 | 10 |
| 굿즈 (Goods) | 011 | 25 |
| 디지털 (Digital) | 012 | 19 |

### 1.2 상품 검색

- 이름 검색: 상품명으로 필터링
- MES 코드 검색: `001-0001` 형식으로 검색
- 상태 필터: 활성/비활성 필터

### 1.3 상태 배지

- 🟢 활성 (Active): 위젯에 표시
- ⚪ 비활성 (Inactive): 위젯에 숨김

## 2. 새 상품 만들기

<Steps>
### Step 1: [+ Product] 클릭

또는 카테고리 우클릭 > Add Product

### Step 2: 상품 헤더 작성

- **이름**: 상품명 (예: A4 엽서)
- **MES 코드**: `XXX-XXXX` 형식 (예: `001-0001`)
- **Huni 코드**: 상품 식별 코드
- **상품 유형**: 카테고리별 유형

### Step 3: 카테고리 선택

트리에서 카테고리 선택

### Step 4: 초기 상태 설정

활성/비활성 토글

### Step 5: 카테고리 그룹 템플릿 선택

G1-G8 중 선택 (자동 구성)
</Steps>

<Callout type="info">
**MES 코드 형식**: `001-0001` 형식으로, 첫 3자리는 카테고리, 뒤 4자리는 상품 번호입니다.
</Callout>

<Callout type="warning">
**카테고리 할당**: 카테고리에 따라 사용 가능한 옵션 템플릿이 결정됩니다. 신중하게 선택하세요.
</Callout>

## 3. 빌더 캔버스: 컴포넌트 기반 상품 구성

### 3.1 빌더 캔버스란?

시각적 드래그앤드롭 인터페이스로 상품 옵션을 구성하는 도구입니다.

### 3.2 ComponentPalette (왼쪽 패널)

8개 드래그 가능한 컴포넌트:

| 컴포넌트 | 설명 | 옵션 키 |
|----------|------|---------|
| SizeSelector | 규격 선택 | size |
| ColorSelector | 색상 선택 | color |
| PaperSelector | 용지 선택 | paper |
| QuantitySelector | 수량 선택 | quantity |
| PostProcessSelector | 후가공 선택 | finishing |
| AccessorySelector | 액세서리 선택 | accessory |
| DeliverySelector | 배송 선택 | delivery |
| CoverTypeSelector | 표지 유형 | cover_type |

### 3.3 BuilderCanvas (중앙 패널)

드롭 존에 컴포넌트를 드래그합니다:

```
┌─────────────────────────────────────────┐
│  Builder Canvas                         │
│  ┌─────────────────────────────────────┐ │
│  │ [Size] v   [Paper] v   [Qty] v     │ │
│  │ (컴포넌트 카드들...)                │ │
│  └─────────────────────────────────────┘ │
└─────────────────────────────────────────┘
```

동작:
- 드래그: ComponentPalette → Canvas
- 재정렬: Canvas 내에서 드래그
- 삭제: 카드의 x 버튼 클릭

### 3.4 PropertyPanel (오른쪽 패널)

선택된 컴포넌트의 설정:

**공통 필드**:
- label: 표시 이름
- optionKey: 옵션 키 (영문)
- optionType: 표시 타입
- isRequired: 필수 여부
- displayOrder: 표시 순서

**타입별 필드**:
- SizeSelector: allowCustom, unitType, minWidth/maxWidth
- PaperSelector: paperGroups, ncrMode, showGrammage
- QuantitySelector: quantityMode, showUnitPrice

### 3.5 TemplateSelector

카테고리 그룹 기본값 적용 (G1-G8)

| 그룹 | 이름 | 기본 컴포넌트 |
|------|------|-------------|
| G1 | Flat Prints | Size, Color, Paper, Qty, PostProcess, Delivery |
| G2 | Stickers | Shape, Size, Material, Color, Qty, DieCut, Delivery |
| G3 | Booklets | CoverType, Size, Paper, Color, Qty, PostProcess, Delivery |
| G4 | Forms (NCR) | NCRType, Size, Paper(1-4), Color, Qty, Numbering, Delivery |
| G5 | Large Signs | Material, Width(cm), Height(cm), Color, Qty, Fixtures, Delivery |
| G6 | Goods/Fancy | Product, Size, Color, Print, Qty, Package, AddOns, Delivery |
| G7 | Digital Print | Printer, Size, Paper, Color, Qty, Finishing, Delivery |
| G8 | Apparel | Size(chart), Color(swatch), PrintPos, PrintSize, Qty, Delivery |

<Callout type="info">
**저장**: 변경 사항은 자동으로 저장됩니다 (optimistic updates).
</Callout>

## 4. 상품 편집

### 4.1 상품 헤더

| 필드 | 설명 |
|------|------|
| 이름 | 상품명 |
| MES 코드 | `001-0001` 형식 |
| Huni 코드 | 상품 식별 코드 |
| 유형 | 상품 유형 |
| 카테고리 경로 | 카테고리 계층 경로 |

### 4.2 상태 토글

- 활성: 위젯에 표시
- 비활성: 위젯에서 숨김

### 4.3 복잡도 점수

상품 옵션 복잡도를 나타내는 점수 (0-100)

## 5. 레이어 기반 옵션 설정

| 레이어 | 설명 | 예시 옵션 |
|-------|-------------|-----------------|
| Basic | 핵심 상품 속성 | Size, Color |
| Inner | 내지 속성 | Inner paper, Inner printing, Page count |
| Cover | 표지 속성 | Cover paper, Cover printing, Coating |
| Binding | 제본 방식 | Binding type, Spine thickness |
| Finishing | 후가공 | Foil stamp, Embossing, Lamination |
| Packaging | 포장 | Package type, Accessories |

## 6. 상품 삭제

<Callout type="warning">
**경고**: 삭제는 되돌릴 수 없습니다. 삭제하기 전에 백업하세요.
</Callout>

**연쇄 효과**:
- 연결된 옵션도 삭제됨
- 제약조건 규칙도 삭제됨
- 가격 규칙도 삭제됨

## 관련 문서

- [옵션 관리](./option-management) - 옵션 타입, 카드 해부
- [제약조건 에디터](./constraints) - 옵션 의존성 설정
- [데이터 관리](./data-management) - 백업 방법
