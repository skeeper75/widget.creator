---
name: innojini-huni-order-process
description: >
  후니프린팅 주문 프로세스 도메인 지식 베이스. 주문 상태 기계(7단계),
  자동 알림 11종, 인쇄 타입 분류, 출고 경로, 파일명 규칙, 클레임 처리,
  조직별 업무 권한을 포함한 정적 비즈니스 프로세스 지식.
  Use when designing order APIs, state management, notification systems,
  file naming logic, claim handling flows, or org permission models.
license: Apache-2.0
compatibility: Designed for Claude Code - widget.creator project
user-invocable: false
metadata:
  version: "1.0.0"
  category: "domain"
  status: "active"
  updated: "2026-02-27"
  tags: "huni, order, process, state-machine, notification, claim, file-naming"
  source: "후니프린팅_주문프로세스_20251001.pdf"

# MoAI Extension: Progressive Disclosure
progressive_disclosure:
  enabled: true
  level1_tokens: 150
  level2_tokens: 2500

# MoAI Extension: Triggers
triggers:
  keywords: ["주문", "상태", "알림", "order", "status", "클레임", "출고", "발주", "파일명", "프로세스", "workflow", "알림타입", "취소", "환불", "재제작", "조직", "권한", "인쇄타입"]
  agents: ["expert-backend", "team-backend-dev", "manager-spec"]
  phases: ["plan", "run"]
---

# 후니프린팅 주문 프로세스 도메인 지식

출처: `후니프린팅_주문프로세스_20251001.pdf`

---

## 1. 주문 상태 기계 (Order State Machine)

### 7단계 주문 상태

```
미입금 → 결제완료 → 제작대기 → 제작중 → 제작완료 → 출고완료
                                                    ↓
                                              (주문취소 — 특정 상태에서만 가능)
```

| 상태 코드 | 상태명 | 설명 |
|----------|--------|------|
| `UNPAID` | 미입금 | 주문 생성, 결제 대기 |
| `PAID` | 결제완료 | 결제 확인, 제작 준비 |
| `PRODUCTION_WAITING` | 제작대기 | 제작 대기열 진입 |
| `IN_PRODUCTION` | 제작중 | 실제 제작 진행 |
| `PRODUCTION_DONE` | 제작완료 | 제작 완료, 출고 준비 |
| `SHIPPED` | 출고완료 | 배송 완료 |
| `CANCELLED` | 주문취소 | 취소 처리 |

### 상태 전환 규칙

- `주문취소`는 `제작중` 이전 상태에서만 가능 (제작 착수 후 취소 불가 원칙)
- `제작완료` → `출고완료` 전환 시 운송장 번호 필수
- `결제완료` 직후 자동으로 `제작대기` 진입 (자동 알림 002 발송)

---

## 2. 자동 알림 시스템 (11종)

| 코드 | 알림명 | 트리거 조건 | 채널 |
|------|--------|------------|------|
| 001 | 주문 접수 | 주문 생성 시 | 카카오/이메일 |
| 002 | 결제 완료 | 결제 확인 시 | 카카오/이메일 |
| 003 | 제작 시작 | 제작대기 → 제작중 | 카카오 |
| 004 | 제작 완료 | 제작중 → 제작완료 | 카카오/이메일 |
| 005 | 출고 완료 | 출고완료 상태 전환 | 카카오/이메일/문자 |
| 006 | 주문 취소 | 주문취소 처리 | 카카오/이메일 |
| 007 | 환불 완료 | 환불 처리 완료 | 이메일 |
| 008 | 재제작 시작 | 클레임 재제작 승인 | 카카오 |
| 009 | 재배송 완료 | 재배송 출고 시 | 카카오/문자 |
| 010 | 세금계산서 발행 | 세금계산서 발행 | 이메일 |
| 011 | 발주 완료 | 외주 발주 처리 완료 | 내부 알림 |

---

## 3. 인쇄 타입 분류

### 직접 제작 (자체 생산)

| 인쇄 타입 | 설명 | 대표 상품 |
|----------|------|----------|
| 디지털출력 | 디지털 인쇄기 (단면/양면) | 명함, 엽서, 스티커, 책자 |
| 실사출력 | 대형 잉크젯 | 배너, 현수막, 포스터 |
| 특수출력 | 특수 재질 UV 출력 | 아크릴, 굿즈 |
| 라텍스출력 | 라텍스 잉크 | 투명실사, 패브릭 |
| 패브릭출력 | 직물 전사 | 에코백, DTF |
| UV평판출력 | UV 평판 프린터 | UV굿즈, 아크릴 단품 |

### 외주 제작

| 외주 유형 | 설명 |
|----------|------|
| 전사인쇄 | 전사지 방식 |
| 도장제작 | 스탬프 도장 |
| 동판제작+박작업 | 금박/은박 후가공 (외주) |
| 책자제작 | 합지/합판 책자 (외주) |
| 합판인쇄 | 오프셋 합판 (외주) |
| 고주파 | 고주파 접합 가공 (외주) |

---

## 4. 출고 경로 (3가지)

```
주문 완료
    ├── [디지털인쇄 상품] → 디지털인쇄팀 직접 출고
    ├── [특수인쇄/굿즈] → 특수인쇄팀 출고
    └── [위탁 상품] → 쿠마샵 위탁 출고
```

---

## 5. 파일명 규칙 (File Rename Convention)

### 패턴

```
{품목}_{출력사이즈}_{양단면}_{소재명}_{거래처명}_{고객명}_{파일고유번호}_{수량}
```

### 필드 정의

| 필드 | 설명 | 예시 |
|------|------|------|
| 품목 | MES 품목명 약어 | 명함, 엽서, 스티커 |
| 출력사이즈 | 실제 출력 사이즈 (mm) | 92x54, 100x148 |
| 양단면 | 단면(1)/양면(2) | 1, 2 |
| 소재명 | 인쇄 소재 코드 | 광택, 무광, PVC |
| 거래처명 | B2B 거래처 또는 일반 | 홍길동디자인, 일반 |
| 고객명 | 최종 고객명 | 김철수 |
| 파일고유번호 | 시스템 고유 파일 ID | ORD20250101001 |
| 수량 | 주문 수량 | 100, 500 |

### 예시

```
명함_92x54_2_광택_홍길동디자인_김철수_ORD20250101001_100
스티커_100x148_1_PVC_일반_이영희_ORD20250102003_300
```

---

## 6. 클레임 처리 유형 (4가지)

| 유형 | 처리 방법 | 설명 |
|------|----------|------|
| 재제작+재배송 | 동일 주문 재제작 후 재배송 | 인쇄 불량, 파일 오류 |
| 주문취소/환불 | 결제 취소 및 환불 처리 | 제작 전 취소 또는 중대 하자 |
| 반송 | 고객 물품 반송 처리 | 고객 귀책 반품 |
| 재출고 | 동일 제품 재배송 | 분실, 배송 오류 |

---

## 7. 조직별 업무 및 권한 (7부서)

| 부서 | 주요 업무 | 주문 상태 접근 |
|------|----------|--------------|
| 마스터관리 | 시스템 전체 관리, 상품 설정 | ALL |
| 상품/마케팅 | 상품 등록, 가격 설정, 프로모션 | 조회 전체 |
| 발주 | 외주 발주, 거래처 관리 | PRODUCTION_WAITING ~ IN_PRODUCTION |
| 생산 | 제작 진행, 공정 관리 | IN_PRODUCTION ~ PRODUCTION_DONE |
| 출고 | 포장, 배송 처리 | PRODUCTION_DONE ~ SHIPPED |
| 외주관리 | 외주사 연락, 납기 관리 | 외주 주문 전체 |
| 회계경리 | 정산, 세금계산서, 환불 | 결제 관련 전체 |

---

## 지식 경계 (Knowledge Boundary)

> **이 스킬에 포함된 것**: 비즈니스 프로세스 규칙, 상태 정의, 분류 체계
> **DB에서 관리되는 것**: 실제 주문 데이터, 가격, 특정 품목 정보
> **업데이트 시점**: 후니프린팅 주문 정책/프로세스 변경 시
