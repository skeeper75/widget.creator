# 접지별 페이지 배열 레퍼런스

## 개요

인쇄물 접지 시 각 페이지가 배치되는 위치를 정의합니다.
대수(Signature) 인쇄에서 접지 후 재단하면 올바른 페이지 순서가 됩니다.

---

## 1. 십자접지 16P (Cross Fold 16P)

### 접지 방법
1. 용지를 세로로 반접기
2. 가로로 반접기
3. 다시 세로로 반접기
4. 상단 재단

### 페이지 배열

```
규칙: 마주보는 페이지 합 = 17 (총페이지+1)

앞면 (인쇄면 1):
┌────┬────┬────┬────┐
│  4 │ 13 │ 16 │  1 │
├────┼────┼────┼────┤
│  5 │ 12 │  9 │  8 │
└────┴────┴────┴────┘

뒷면 (인쇄면 2):
┌────┬────┬────┬────┐
│  6 │ 11 │ 14 │  3 │
├────┼────┼────┼────┤
│  7 │ 10 │ 15 │  2 │
└────┴────┴────┴────┘
```

### 180° 회전 페이지
접지 후 상하가 바뀌는 페이지: **4, 5, 13, 12, 6, 7, 11, 10**

### 검증 규칙
- 앞면 + 뒷면 대응 페이지 합 = 17
  - 4+6=10 ✗ → 4는 6과 뒤집어서 배치됨
  - 실제로는 4(앞)의 뒤에 3(뒤)가 인쇄

---

## 2. 직각접지 8P (Right Angle Fold 8P)

### 접지 방법
1. 용지를 세로로 반접기
2. 가로로 반접기
3. 상단 재단

### 페이지 배열

```
규칙: 마주보는 페이지 합 = 9

앞면:
┌────┬────┐
│  4 │  1 │
├────┼────┤
│  5 │  8 │
└────┴────┘

뒷면:
┌────┬────┐
│  6 │  3 │
├────┼────┤
│  7 │  2 │
└────┴────┘
```

### 180° 회전 페이지
**4, 5, 6, 7**

---

## 3. 평행접지 8P (Parallel Fold 8P)

### 접지 방법
1. 용지를 세로로 반접기
2. 다시 세로로 반접기
3. 다시 세로로 반접기

### 페이지 배열

```
앞면:
┌──┬──┬──┬──┐
│ 8│ 1│ 4│ 5│
└──┴──┴──┴──┘

뒷면:
┌──┬──┬──┬──┐
│ 7│ 2│ 3│ 6│
└──┴──┴──┴──┘
```

---

## 4. 롤접지 4단 (Roll Fold 4P) ⚠️ 중요

### 접지 방법
패널을 순차적으로 안쪽으로 감아 접기

### 패널 크기 ⚠️
```
⚠️ 안쪽 패널은 크기가 작아야 함!

패널 4 (가장 안쪽): 완성물 - 3mm
패널 3:              완성물 - 2mm
패널 2:              완성물
패널 1 (가장 바깥):  완성물

예) 완성물 너비 100mm:
┌────────┬────────┬────────┬────────┐
│  97mm  │  98mm  │ 100mm  │ 100mm  │
│ 패널4  │ 패널3  │ 패널2  │ 패널1  │
│(안쪽)  │        │        │(바깥)  │
└────────┴────────┴────────┴────────┘
```

### 왜 안쪽 패널이 작아야 하는가?
안쪽으로 감아 접으면 바깥쪽 패널의 둘레가 더 길어집니다.
안쪽 패널이 같은 크기면 접었을 때 튀어나오거나 접히지 않습니다.

---

## 5. 3단접지 (Tri-Fold) ⚠️ 중요

### 접지 방법
C자 형태로 접기 (Letter Fold)

### 패널 크기 ⚠️
```
⚠️ 안쪽 패널 2-3mm 작게!

┌────────────┬────────────┬────────────┐
│   완성물   │   완성물   │ 완성물-3mm │
│   패널1    │   패널2    │   패널3    │
│  (바깥)    │   (중간)   │   (안쪽)   │
└────────────┴────────────┴────────────┘

예) 완성물 너비 100mm × 3 = 300mm 전개:
  패널1: 100mm
  패널2: 100mm
  패널3: 97mm (안쪽으로 접힘)
```

---

## 6. 병풍접지 4단 (Accordion Fold 4P)

### 접지 방법
지그재그로 접기 (Z자 반복)

### 패널 크기
```
모든 패널 동일 크기!
(지그재그이므로 안쪽/바깥쪽 구분 없음)

┌────────┬────────┬────────┬────────┐
│ 100mm  │ 100mm  │ 100mm  │ 100mm  │
│ 패널1  │ 패널2  │ 패널3  │ 패널4  │
└────────┴────────┴────────┴────────┘
```

---

## 7. Z접지 (Z-Fold)

### 접지 방법
Z자 형태로 접기 (3단)

### 패널 크기
```
모든 패널 동일 크기!

┌────────────┬────────────┬────────────┐
│   100mm    │   100mm    │   100mm    │
│   패널1    │   패널2    │   패널3    │
└────────────┴────────────┴────────────┘
     ↓            ↑            ↓
   (아래로)    (위로)      (아래로)
```

---

## 8. 대문접지 (Gate Fold)

### 접지 방법
양쪽 패널을 중앙으로 접기

### 패널 크기
```
⚠️ 중앙 패널 = 양쪽 패널 × 2

┌────────┬────────────────┬────────┐
│  75mm  │     150mm      │  75mm  │
│ 왼쪽   │     중앙       │ 오른쪽 │
│ 패널   │     패널       │ 패널   │
└────────┴────────────────┴────────┘

예) 전체 300mm:
  양쪽 패널: 75mm × 2 = 150mm
  중앙 패널: 150mm
```

---

## 9. 반접지 (Half Fold)

### 접지 방법
단순히 반으로 접기

### 페이지 배열
```
앞면:
┌────┬────┐
│  4 │  1 │
└────┴────┘

뒷면:
┌────┬────┐
│  2 │  3 │
└────┴────┘
```

---

## 10. 대수별 페이지 생성

### 공식
```python
def generate_signature_pages(total_pages, pages_per_sig):
    num_sigs = ceil(total_pages / pages_per_sig)
    
    for sig in range(num_sigs):
        start = sig * pages_per_sig + 1
        end = min((sig + 1) * pages_per_sig, total_pages)
        yield f"대수 {sig+1}: {start}~{end}"
```

### 예시: 292P 책, 16P 십자접지
```
대수 1:  1~16
대수 2:  17~32
대수 3:  33~48
...
대수 18: 273~288
대수 19: 289~292 (마지막 대수, 4P만 사용)

총 대수: ceil(292/16) = 19대
실제 인쇄: 19 × 16 = 304P
낭비 페이지: 304 - 292 = 12P
```

---

## CLI 사용법

```bash
# 접지 배열 조회
python3 scripts/estimate_v3.py layout --type cross_16

# 전체 접지 목록
python3 scripts/estimate_v3.py layout --list

# 대수별 페이지 생성
python3 scripts/estimate_v3.py layout --type cross_16 --pages 292
```

---

*Last Updated: 2025-12-04*
